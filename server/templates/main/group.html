{% extends '../base2.html' %} {% load static %}
{%block page%}
<main class="group-main">
    <div class="group-header">
        <h1>{{group.name}}</h1>
        {% if am_I_creator %}
        <form onsubmit="confirmModal(event)">
            {% csrf_token %}
            <input type="text" name="group-create-inpput"  id="update-input" value="{{group.name}}">
            <button type="submit" name="group-update-button" id="update-button"><i class="fa-solid fa-check"></i></button>
        </form>
        <button id="groupName-editBtn"><i class="fa-solid fa-pen"></i></button>
        {% endif %}


        
    </div>
    <div class="group-content">
        <div class="group-content__info">
            <span class="group-content__text">Group Head: {{group.create_user}}</span>
            <div class="bar"></div>
            <span class="group-content__text">Group Value: {{group.price}} ₩</span>
            <div class="bar"></div>
            <span class="group-content__text" id="group-member">Members: {{users_length}}</span>
            <div class="bar"></div>
            <span class="group-content__text">오늘 번돈: {{group.delta}}</span>
            
        </div>
       
        <ul class="group-content__ul">
            {% for key, value in value.items %}
            <li id="group-content__li-{{key}}">
                <div>그룹원 명: {{ key }}</div>
                <div><i class="fa-solid fa-coins"></i> {{ value }}</div>
            </li>
            {% endfor %}
        </ul>
    </div>


    <form onsubmit="handleButtonClickMessage(event)">
        {% csrf_token %}
        <input type="hidden" name="group" value="{{ group.name }}">
        <button type="submit" name="group-button" id="add-button">{{button_text}}</button>
    </form>
    {% if am_I_creator %}
    <form action="/main/group/delete_group/{{ group.pk }}/" method="post">
        {% csrf_token %}
        <button type="submit" name="group-delete-button" id="delete-button">Delete Group</button>
    </form>
    {% endif %}
</main>



{% endblock %}


{% block extra %}

<script src="{% static 'js/group.js' %}"></script>

{% endblock %}